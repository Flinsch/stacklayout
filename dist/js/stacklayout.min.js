/*! stacklayout v1.0.0 2018-09-26 */
!function(t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):window.stacklayout=t(jQuery)}(function(i){var s={},u=function(t){return t.is(".stacklayout-horizontal")?{scrollfn:"scrollLeft",step:t.width()}:{scrollfn:"scrollTop",step:t.height()}},r=function(t){return t instanceof jQuery?t.closest(".stacklayout-panel").index():i.isNumeric(t)?1*t:0};return s.init=function(t,a){t=i(t);var n=r(a);t.data("stacklayout-index",n);var e=u(t);t[e.scrollfn](n*e.step)},s.switch=function(t,a,n){t=i(t);var e=r(a),o=t.find("> .stacklayout-panel").length;0<o?e<0?e=o-1+(e+1)%o:e%=o:e=0,t.data("stacklayout-index",e);var l=u(t),c={};c[l.scrollfn]=e*l.step,t.animate(c,n)},s.next=function(t,a){var n=(t=i(t)).data("stacklayout-index");s.switch(t,n+1,a)},s.prev=function(t,a){var n=(t=i(t)).data("stacklayout-index");s.switch(t,n-1,a)},s.push=function(t,a){var n=(t=i(t)).find("> .stacklayout-panel").length;s.insert(t,a,n)},s.pop=function(t){var a=(t=i(t)).find("> .stacklayout-panel").length;s.remove(t,a-1)},s.insert=function(t,a,n){t=i(t);var e=r(n),o=t.find("> .stacklayout-panel").length;e<0&&(e=0),o<e&&(e=o);var l=i("<div/>",{class:"stacklayout-panel"});if(l.append(a),0===e?t.prepend(l):t.find("> .stacklayout-panel:nth-child("+e+")").after(l),e<=t.data("stacklayout-index")){var c=u(t);t.data("stacklayout-index",t.data("stacklayout-index")+1),t[c.scrollfn](t.data("stacklayout-index")*c.step)}s.switch(t,e)},s.remove=function(a,t){a=i(a);var n=r(t),e=a.find("> .stacklayout-panel").length;if(!(n<0||e<=n)){var o=function(){a.find("> .stacklayout-panel:nth-child("+(n+1)+")").remove();var t=u(a);n<a.data("stacklayout-index")&&a.data("stacklayout-index",a.data("stacklayout-index")-1),a[t.scrollfn](a.data("stacklayout-index")*t.step)};n===a.data("stacklayout-index")?n+1<e?s.switch(a,n+1,o):0<n?s.switch(a,n-1,o):o():o()}},s});